# 设施－网络

内置 overlay 网络实现应用网络隔离和独立的网络规划能力, 在创建应用时可以为服务指定相应的网络。

###创建网络
docker1.12默认带有两种overlay网络，`ingress` 和`docker_gwbridge`;

**ingress** 

Swarm manager使用`ingress`负载均衡，创建服务时做的端口映射作为service的默认VIP,virtual IP地址作为服务请求的入口。基于virtual IP进行负载均衡.集群内的ingress网络是基于节点端口模式的,集群内的每个监听这个端口的节点，都可以为那个服务路由流量。

需要注意的是，即使指定了自定义网络，做了端口映射的服务也会自动添加ingress网络。


**docker_gwbridge**


`default_gwbridge` 网络只能用在非内部的网络环境下,连接到多主机网络的容器会自动连接到docker_gwbridge网络。这种网络模式让容器可以和集群外产生外部连接，并且在每个worker节点上创建。


**your_own_overlay** 

如果有规划网络的需要，容器间做网络隔离，可用通过自定义网络实现。

点击`创建网络`按钮，填写网络信息后`创建`即可。

* 网络名称: 必须为数字或英文
* 子网：示例：172.20.0.0/16
* 网关：示例：172.20.10.1
* ip范围:示例 172.20.10.0/24；可用ip从172.20.10.1～172.20.10.254。
* 内部网络：如果为是，该网络不提供与集群外的通讯。
* 标签：设置标签后，在发布新服务时可用通过标签选择网络。


网络管理：

除了`ingress`网络，均可在界面点击`删除`按钮操作。
如果想对已经创建的网络做更新操作，需要删除后冲洗创建。

